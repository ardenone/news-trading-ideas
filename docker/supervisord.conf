[supervisord]
nodaemon=true
user=appuser
logfile=/tmp/supervisord.log
pidfile=/tmp/supervisord.pid

[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true
stdout_logfile=/tmp/nginx-stdout.log
stderr_logfile=/tmp/nginx-stderr.log
priority=10

[program:uvicorn]
command=python -m uvicorn backend.main:app --host 0.0.0.0 --port 8001 --workers 4
directory=/app
autostart=true
autorestart=true
stdout_logfile=/tmp/uvicorn-stdout.log
stderr_logfile=/tmp/uvicorn-stderr.log
priority=20

[program:rss-scheduler]
command=python -m backend.utils.scheduler
directory=/app
autostart=true
autorestart=true
stdout_logfile=/tmp/scheduler-stdout.log
stderr_logfile=/tmp/scheduler-stderr.log
priority=30
